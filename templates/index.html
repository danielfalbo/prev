<!doctype html>
<html>
  <head>
    <title>Home | danielfalbo</title>
    <style>
      {css}
    </style>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico" />
  </head>

  <body>
    <p class="navbar-links">
      <a href="./index.html">home</a><span> Â· </span
      ><a href="./notes/code.html">code</a><span> Â· </span
      ><a href="./notes/words.html">words</a>
    </p>
    <div
      style="display: flex; justify-content: space-between; align-items: center"
    >
      <div>
        <p style="font-size: 3rem; font-weight: 700; margin: 0px">
          Hi, I'm Daniel <span id="waving-hand">ðŸ‘‹</span>
        </p>
      </div>
      <div>
        <img
          src="./assets/me.jpeg"
          style="
            border-radius: 50%;
            width: 8rem;
            height: 8rem;
            border: 1px solid rgb(38, 28, 77);
          "
        />
      </div>
    </div>

    <div class="space-y-8">
      <div>
        <p><strong>About</strong></p>
        <div style="font-weight: 300">
          <p>
            ðŸ‡¬ðŸ‡§ Software Engineer at
            <a href="https://en.wikipedia.org/wiki/Palantir_Technologies"
              >PLTR</a
            >
            London
          </p>
          <p>
            ðŸ§® Pursuing a BSc in
            <a href="https://acsai.di.uniroma1.it/">Computers &amp; AI</a>
          </p>
          <p>ðŸŽ‚ <span id="live-age"></span> years old</p>
          <p>ðŸ•º Dancer</p>
        </div>
      </div>

      <code>:wqâ†µ</code>
    </div>

    <script>
      /* =================== Globals ======================== */

      /* Global temporary buffer.
       *
       * JavaScript is single-threaded so this won't cause issues
       * as long as callers will set it to null after their operations. */
      let _tmp = null;

      /* =============== State management =================== */

      function createSignal(value) {
        const observers = new Set();
        return [
          () => {
            if (_tmp != null) observers.add(_tmp);
            return value;
          },

          (newValue) => {
            value = newValue;
            for (let observer of observers) {
              observer();
            }
          },
        ];
      }

      function createEffect(fn) {
        const compute = () => {
          try {
            _tmp = compute;
            fn();
          } finally {
            _tmp = null;
          }
        };
        return compute();
      }

      /* =============== Live Age =========================== */

      const [age, setAge] = createSignal(0.0);

      const LiveAge = document.getElementById("live-age");

      createEffect(() => (LiveAge.textContent = age()));

      // Average length of a Gregorian year in milliseconds
      const MS_PER_YEAR = 365.2425 * 24 * 60 * 60 * 1000;

      // December 10, 2003 at 1:30 PM Rome time (CET, UTC+1)
      const birthMs = new Date("2003-12-10T13:30:00+01:00").getTime();

      // Get unix timestamp milliseconds for current datetime
      const baseMs = Date.now();

      const compute = (nowMs) => {
        const years = (nowMs - birthMs) / MS_PER_YEAR;
        return years.toLocaleString("en-US", {
          minimumIntegerDigits: 2,
          minimumFractionDigits: 9,
          maximumFractionDigits: 9,
          useGrouping: false,
        });
      };

      const tick = () => {
        const msSincePageStartedLoading = performance.now();
        const nowMs = baseMs + msSincePageStartedLoading;
        setAge(compute(nowMs));
        requestAnimationFrame(tick);
      };

      requestAnimationFrame(tick);
    </script>
  </body>
</html>
